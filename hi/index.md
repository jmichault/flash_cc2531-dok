---
komentoj_id: 1
lang: hi
lang-niv: auto
lang-ref: 001-ĉefa-afero
layout: page
slug: 'सबसे ज़रूरी चीज़!'
title: 'सबसे ज़रूरी चीज़'
---

# [  _flash\_cc2531_  ](https://github.com/jmichault/flash_cc2531)
 [  _flash\_cc2531_  ](https://github.com/jmichault/flash_cc2531)  आपको  _Raspberry_ या  _CC Debugger_ की आवश्यकता के बिना अपने  _Raspberry_ के अपने CC2531 यूएसबी स्टिक को प्रोग्राम करने में सक्षम बनाता है।  
 यह सीसी 2530 कुंजी भी प्रोग्राम कर सकता है।  

## शर्त
आपको या तो _Raspberry_ या _Odroid-c2_की आवश्यकता है।  
आपको कुंजी के बैंगनी बंदरगाह को  _GPIO_  de  _Raspberry_ बंदरगाहों को कनेक्ट करने की आवश्यकता है, उदाहरण के लिए एक केबल  _CC_  और चार पंक्तियां  _Dupont_  ( अधिक देखें )।    
 [  _WiringPi_  ](http://wiringpi.com/)  इसे स्थापित किया जाना चाहिए  \( यदि यह पूर्व-स्थापित नहीं है, तो आप आमतौर पर इसे  `sudo apt install wiringpi`) के साथ स्थापित कर सकते हैं, अन्यथा  [  _Gordon_  ](http://wiringpi.com/)  वेबसाइट देखें या  [ यह वैकल्पिक वेबसाइट ](https://github.com/WiringPi/WiringPi)  \)।   
अंत में आपको कार्यक्रम की आवश्यकता है:

* आम तौर पर समन्वयक  _zigbee_ :  [  संस्करण 1.2  ( अनुशंसित )](https://github.com/Koenkk/Z-Stack-firmware/raw/master/coordinator/Z-Stack_Home_1.2/bin/default/)  या  [ संस्करण 3.0 ](https://github.com/Koenkk/Z-Stack-firmware/tree/master/coordinator/Z-Stack_3.0.x/bin) 


* या राउटर (डिग्री 0001 डिग्री): (डिग्री 0003 डिग्री) धावक (डिग्री डिग्री 0004 डिग्री) 1.2 (डिग्री 0006 डिग्री) (डिग्री 0008 डिग्री)



मैंने _flash\_cc2531_ पर _Raspberry Pi 3_ के साथ _raspbian_का अनुमान लगाया, लेकिन अन्य मॉडलों पर सफल प्रोग्रामिंग की सूचना दी गई:

 * पीआई 4 पर आपको संस्करण 2.52 _wiringpi_ की आवश्यकता होगी:  [स्थापित _wiringPi_ 2.52 of _Gordon_ ](http://wiringpi.com/wiringpi-updated-to-2-52-for-the-raspberry-pi-4b/)वेबसाइट


 * पी 1 और पी 2 पर आपको अन्य पिंस](#uzi_aliajn_pinglojn)का उपयोग करने के लिए [की आवश्यकता होगी।



## तैयार

डाउनलोड करें _flash\_cc2531_ आपके _raspberry_ :
```bash
git clone https://github.com/jmichault/flash_cc2531.git
```

बैंगनी बंदरगाह के निम्नलिखित पिन को जीपीओ पोर्ट से कनेक्ट करें: (डिग्री 0001 डिग्री) (डिग्री 0002 डिग्री) (डिग्री 0003 डिग्री) (डिग्री 00011 डिग्री)

|  

 _raspberry_  का पिन-लेआउट यहां उपलब्ध है:  <https://pinout.xyz/> 


फिर पोर्ट में यूएसबी कुंजी दर्ज करें।  

केबल डाउनलोड करें  _CC_  और 4 पंक्तियां  _Dupont_  महिला से महिला इस उद्देश्य के लिए बिल्कुल सही है: 
 ![ कुंजी की फोटो और  _raspberry_  
 
 यह मेरा पसंदीदा विकल्प है, लेकिन यदि आप केबल  _CC_  कुंजी पर सीधे केबल  _Dupont_  भी चला सकते हैं: उदाहरण के लिए  [  _lemariva.com_  ](https://lemariva.com/blog/2019/08/zigbee-flashing-cc2531-using-raspberry-pi-without-cc-debugger)  
 
  [   [   [   [   [  ](https://notenoughtech.com/home-automation/flashing-cc2531-without-cc-debugger )       


इसे आज़माएं:
```bash
cd flash_cc2531
./cc_chipid
```
इसे वापस करना होगा:
```
  ID = b524.
```
(मान भिन्न हो सकता है यदि आपकी कुंजी का हार्डवेयर संस्करण मेरा)के समान नहीं है।  
यदि आप 0000 या FFFF देखते हैं तो गलत है:

 * पहले अपनी वायरिंग की जांच करें।


 * फिर एक उच्च आधार समय का प्रयास करें, उदाहरण के लिए `./cc_chipid -m 100`, या `./cc_chipid -m 160` या `./cc_chipid -m 300`।


 * यदि इनमें से कोई भी काम नहीं करता है, तो `make`के साथ पुन: प्रयास करें।



## प्रयोग
Save.hex फ़ाइल में फ्लैश मेमोरी की सामग्री को बचाने के लिए:
```bash
./cc_read save.hex
```
( लगभग 2 मिनट ) लेता है।  

लाइट स्मारक को हटाने के लिए:
```bash
./cc_erase
```
** नोट: **  आपको **  लिखने से पहले **  हटाएं  ( जब तक कि आप वास्तव में नहीं जानते कि आप क्या करेंगे )। 

 _CC2531_ फ़ाइल  _CC2531_:  पर प्रोग्राम करने के लिए
```bash
./cc_write CC2531ZNP-Prod.hex
```
(लगभग 3 मिनट)तक रहता है।

<a id="uzi_aliajn_pinglojn"></a>

## अन्य पिन का उपयोग करें

सभी आदेश निम्नलिखित तर्क स्वीकार करते हैं:

 * _-c_  पिन: डिफ़ॉल्ट 27 )  द्वारा पिन  _DC_  ( बदलें


 * _-d_  पिन: डिफ़ॉल्ट 28 )  द्वारा पिन  _DD_  ( बदलें


 * _-r_  पिन: डिफ़ॉल्ट रूप से पिन  _reset_  ( बदलें 24 ) 


 * _-m_ : देरी गुणा सेट करें, और उसके बाद मूल समय  ( डिफ़ॉल्ट रूप से: स्वचालित समायोजन ) 



उपयोग की गई पिन नंबरिंग _wiringPi_है। अपने _Raspberry_ (कॉलम _wPi_ )में लेआउट रखने के लिए `gpio readall` का उपयोग करें।

उदाहरण के लिए, यदि आप पिन 3, 11 और 13 का उपयोग करना चाहते हैं:  
पोर्ट  _GPIO_:  पर पोर्ट को शुद्ध करने के निम्न पिन कनेक्ट करें

 1. पिन 1 ( _GND_ ) -> pin 14 ( _GND_ ))


 2. पिन 7 ( _reset_ ) -> pin 3 ( _wPi 8, BCM2_ )


 3. पिन 3 ( _DC_ ) -> pin 11 ( _wPi 0, BCM17_ )


 4. पिन 4 ( _DD_ ) -> pin 13 ( _wPi 2, BCM27_ ))



और अब आप निम्न आदेशों के साथ एक लाइटनिंग मेमोरी को एक पहचान, सहेज सकते हैं, हटाएं और लिख सकते हैं:
```bash
./cc_chipid -r 8 -c 0 -d 2
./cc_read -r 8 -c 0 -d 2 save.hex
./cc_erase -r 8 -c 0 -d 2
./cc_write -r 8 -c 0 -d 2 CC2531ZNP-Prod.hex
```

आप _CCDebugger.h_ के लिए डिफ़ॉल्ट मान भी बदल सकते हैं और `make`के साथ प्रोग्राम संकलित कर सकते हैं।

## क्या होगा अगर यह काम नहीं करता है?

1. अन्य सभी प्रोग्राम बंद करें।


2. प्रोग्रामिंग से पहले प्रोसेसर की गति निर्धारित करें। उदाहरण:



   ```bash
   sudo echo performance >/sys/devices/system/cpu/cpu0/cpufreq/scaling_governor
   ```
3. उपयोग की गई समय सीमा बढ़ाने के लिए -m विकल्प का उपयोग करें। उदाहरण:



   ```bash
   ./cc_write -m 300 CC2531ZNP-Prod.hex
   ```
4.  `make`के साथ कार्यक्रम को पुन: व्यवस्थित करें।



5. पहले से गिथब](https://github.com/jmichault/flash_cc2531/issues?q=is%3Aissue)पर पूछे गए प्रश्नों में हल [देखें



6.  [गितुब](https://github.com/jmichault/flash_cc2531/issues/new/choose)के बारे में अपना प्रश्न पूछें।



7. अपने पोषण ब्लॉककी जाँच करें


    
   ```bash
   grep Under /var/log/kern.log
   ```
यदि आपको बहुत सारी लाइनें मिलती हैं तो आपको पोषण ब्लॉक बदलना होगा।  

## मैं 15 से अधिक परिधि को जोड़ना चाहता हूं
हम विभिन्न स्थानों में पढ़ते हैं कि कुंजी  _CC2531_  केवल 15 अधिकतम उपकरणों को संभाल सकता है।    
 वास्तव में, इस कुंजी के मानक फर्मवेयर में 15 प्रत्यक्ष लिंक की सीमा है। लेकिन यदि इनमें से कोई भी कनेक्शन  _zigbee_  राउटर  ( है और अधिकांश डिवाइस राउटर के रूप में काम करते हैं, उदाहरण के लिए,  _Philips Hue_  बल्ब और  _Ikea TRÅDFRI_  बल्ब ) का मामला है, तो  _CC2531_  इस राउटर के पीछे उपकरणों को प्रबंधित करें, और राउटर के पीछे उन राउटर से जुड़े ...   
वास्तव में,  _CC2531_  की सीमा बहुत अधिक है। और यदि एक दिन आप अपने  _zigbee_  नेटवर्क पर 50 से अधिक डिवाइस से अधिक हो जाते हैं, तो अधिक महंगा समन्वयक में निवेश करना आपके बजट का एक छोटा सा हिस्सा होगा।   
यह भी ध्यान रखें कि प्रोटोकॉल _zigbee_ 32 वें स्थान पर सीधे लिंक की संख्या को सीमित करता है।  

## मेरी कुंजी के लाल एलईडी है जो रोशनी करता है।
ऐसा होता है कि मुख्य डिपोग्राम, या तो परजीवी द्वारा लोड किए गए पर्यावरण के कारण या खराब पोषण के कारण।  

1. अपने पोषण ब्लॉककी जाँच करें


    
   ```bash
   grep Under /var/log/kern.log
   ```
यदि आपको बहुत सारी लाइनें मिलती हैं तो आपको पोषण ब्लॉक बदलना होगा।  

2. परेशान करने वाली सामग्री को दूर करें: वक्ताओं, वाई-फाई राउटर, ...



3. कुंजी  को पुन: प्रोग्राम करें


 


## लाइसेंस

यह परियोजना GPL v3 ( देखें _COPYING_ )के तहत लाइसेंस प्राप्त है।
